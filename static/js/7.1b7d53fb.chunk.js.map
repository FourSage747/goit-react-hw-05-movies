{"version":3,"file":"static/js/7.1b7d53fb.chunk.js","mappings":"6NAuFA,UAjFe,WACb,IAAAA,GAA0BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/BI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GACtBI,GAAoCL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAzCE,EAAUD,EAAA,GAAEE,EAAaF,EAAA,GAChCG,GAAwCT,EAAAA,EAAAA,UAAS,MAAKU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAA/CE,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GAC9BG,GAAWC,EAAAA,EAAAA,MAyCjB,OA9BAC,EAAAA,EAAAA,YAAU,WACJR,IACAS,EAAAA,EAAAA,IAAgBT,GACfU,MAAK,SAAAC,GACoB,IAAlBA,EAASC,MAMbP,EAAgBM,EAASC,KAAKC,SAC9BC,aAAaC,QAAQ,SAAUC,KAAKC,UAAUN,EAASC,KAAKC,UAC5DK,QAAQC,IAAIR,IAPZS,IAAAA,OAAAA,QACI,2EAOR,IACCC,OAAM,SAAAC,GACHF,IAAAA,OAAAA,QACA,uDAEAF,QAAQK,MAAMD,EAClB,GAEN,GAAG,CAACtB,KAEJQ,EAAAA,EAAAA,YAAU,WACR,IAAMgB,EAAeV,aAAaW,QAAQ,UACtCD,GACAnB,EAAgBW,KAAKU,MAAMF,GAEjC,GAAE,KAGAG,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAAA,EAAAA,OAAWH,UACzBC,EAAAA,EAAAA,KAACG,EAAAA,GAAI,CAACF,UAAWC,EAAAA,EAAAA,WAAgBE,GAAG,IAAGL,SAAC,eAE1CD,EAAAA,EAAAA,MAAA,QAAMG,UAAU,aAAaI,SAxCZ,SAAAC,GACnBA,EAAEC,iBACFnC,EAAcL,EAAMyC,OACtB,EAqCwDT,SAAA,EAClDC,EAAAA,EAAAA,KAAA,SACEC,UAAWC,EAAAA,EAAAA,gBACXO,KAAK,OACLC,KAAK,SACLC,YAAY,GACZC,SAlDa,SAAHC,GAA+B,IAAf9C,EAAK8C,EAAfC,OAAU/C,MAChCC,EAASD,EAAMyC,OACjB,EAiDQzC,MAAOA,KAETiC,EAAAA,EAAAA,KAAA,UAAQS,KAAK,SAASR,UAAWC,EAAAA,EAAAA,iBAAqBH,UACpDC,EAAAA,EAAAA,KAAA,QAAMC,UAAU,0BAAyBF,SAAC,iBAG9CC,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAAA,EAAAA,UAAcH,SAC5BxB,GACCA,EAAawC,KAAI,SAAAC,GACf,OAEIhB,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAACG,EAAAA,GAAI,CAACF,UAAWC,EAAAA,EAAAA,UAAeE,GAAE,GAAAa,OAAKD,EAAGE,IAAMC,MAAO1C,EAASsB,SAC7DiB,EAAGI,SAFCJ,EAAGE,GAOlB,QAIR,C","sources":["components/pages/Movies.jsx"],"sourcesContent":["import Notiflix from 'notiflix';\nimport { useState, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { getMoviesSearch } from './searchFilms';\nimport css from './CSS.module.css'\n\nconst Movies = () => {\n  const [value, setValue] = useState('');\n  const [searchText, setSearchText] = useState('');\n  const [moviesSearch, setMoviesSearch] = useState(null);\n  const location = useLocation()\n\n  const handleChange = ({ target: { value } }) => {\n    setValue(value.trim());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setSearchText(value.trim());\n  };\n\n  useEffect(() => {\n    if (searchText) {\n        getMoviesSearch(searchText)\n        .then(response => {\n            if (response.data === 0) {\n            Notiflix.Notify.failure(\n                'Sorry, there are no images matching your search query. Please try again.'\n            );\n            return;\n            }\n            setMoviesSearch(response.data.results);\n            localStorage.setItem('result', JSON.stringify(response.data.results))\n            console.log(response)\n        })\n        .catch(err => {\n            Notiflix.Notify.failure(\n            'Oops! Something went wrong! Try reloading the page!'\n            );\n            console.error(err);\n        });\n    }\n  }, [searchText]);\n\n  useEffect(()=>{\n    const parsedSearch = localStorage.getItem('result');\n    if (parsedSearch) {\n        setMoviesSearch(JSON.parse(parsedSearch))\n    }\n  },[])\n\n  return (\n    <div>\n      <div className={css.goback}>\n        <Link className={css.gobacklink} to='/'>Go back</Link>\n      </div>\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\n        <input\n          className={css.searchForminput}\n          type=\"text\"\n          name=\"search\"\n          placeholder=\"\"\n          onChange={handleChange}\n          value={value}\n        />\n        <button type=\"submit\" className={css.searchFormbutton}>\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n      </form>\n      <ul className={css.homefilms}>\n      {moviesSearch &&\n        moviesSearch.map(el => {\n          return (\n          \n              <li key={el.id}>\n                <Link className={css.linkfilms} to={`${el.id}`} state={location}>\n                  {el.title}\n                </Link>\n              </li>\n            \n          );\n        })}\n        </ul>\n    </div>\n  );\n};\n\nexport default Movies"],"names":["_useState","useState","_useState2","_slicedToArray","value","setValue","_useState3","_useState4","searchText","setSearchText","_useState5","_useState6","moviesSearch","setMoviesSearch","location","useLocation","useEffect","getMoviesSearch","then","response","data","results","localStorage","setItem","JSON","stringify","console","log","Notiflix","catch","err","error","parsedSearch","getItem","parse","_jsxs","children","_jsx","className","css","Link","to","onSubmit","e","preventDefault","trim","type","name","placeholder","onChange","_ref","target","map","el","concat","id","state","title"],"sourceRoot":""}